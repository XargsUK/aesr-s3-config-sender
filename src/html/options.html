<!DOCTYPE html>
<html lang="en" xml:lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AESR S3 Config Sender</title>
    <link href="modern.css" rel="stylesheet" />
  </head>
  <body>
    <div class="container">
      <h1>AESR Config Sender</h1>
      <div class="card">
        <div class="card-header">AESR Actions</div>
        <div class="card-body">
          <div class="button-group">
            <button id="pullS3ConfigButton" class="primary" title="Downloads config from S3">
              <i data-lucide="download"></i>
              Pull Config from S3
            </button>
            <button id="saveButton" class="primary" title="Sends configuration to AWS Extend Switch Roles">
              <i data-lucide="upload"></i>
              Push to AESR
            </button>
          </div>
          <p id="lastSent">Last sent: Never</p>
          <div class="form-group">
            <label for="profileList">Choose a Profile:</label>
            <select id="profileList"></select>
          </div>
          <div class="button-group">
            <button id="importProfileButton">
              <i data-lucide="file-input"></i>
              Import Profile
            </button>
            <button id="exportProfileButton">
              <i data-lucide="file-output"></i>
              Export Profile
            </button>
          </div>
        </div>
      </div>

      <div class="card">
        <div class="card-header">AESR Configuration</div>
        <div class="card-body">
          <form>
            <div class="form-group">
              <label for="awsConfigTextArea">Configuration:</label>
              <textarea id="awsConfigTextArea" rows="5"></textarea>
            </div>
            <div class="form-group">
              <label for="aesrIdText">AESR Extension ID:</label>
              <input id="aesrIdText" type="text" />
              <p id="extensionId">Sender Extension ID:</p>
              <label class="debug-container">
                <input type="checkbox" id="debugModeCheckbox">
                Enable Debug Mode
              </label>
            </div>
          </form>
        </div>
      </div>

      <div class="card">
        <div class="card-header">S3 Configuration</div>
        <div class="card-body">
          <form>
            <div class="form-group">
              <label for="profileName">Profile Name:</label>
              <input id="profileName" type="text" />
            </div>
            <div class="form-group">
              <label for="awsRegion">Region:</label>
              <input id="awsRegion" type="text" />
            </div>
            <div class="form-group">
              <label for="bucketName">Bucket Name:</label>
              <input id="bucketName" type="text" />
            </div>
            <div class="form-group">
              <label for="fileKey">File Key:</label>
              <input id="fileKey" type="text" />
            </div>
          </form>
          <div class="button-group">
            <button id="saveProfileButton" class="primary">
              <i data-lucide="save"></i>
              Save Profile
            </button>
            <button id="deleteProfileButton" class="danger">
              <i data-lucide="trash"></i>
              Delete Profile
            </button>
            <button id="setDefaultProfileButton">
              <i data-lucide="home"></i>
              Set Default
            </button>
          </div>
        </div>
      </div>

      <div class="card">
        <div class="card-header">Instructions</div>
        <div class="card-body">
          <details open>
            <summary>What is AESR Config Sender?</summary>
            <div class="details-content">
              <p>
                AESR Config Sender is a Chrome extension that allows you to
                send your AWS Extend Switch Roles configuration to the AWS
                Extend Switch Roles Chrome extension, using S3 as a source.
              </p>
              <p>
                It does this by using a user-specified IAM user Access Key,
                Secret Key, and the S3 bucket information to download the
                configuration, and then using the extension ID of AESR,
                pushes the configuration to AESR. The user-specified
                information can be saved to Chrome local storage as a
                profile.
              </p>
            </div>
          </details>
          <details>
            <summary>Initial Setup</summary>
            <div class="details-content">
              <ol>
                <li>
                  Fill in the fields in the S3 Configuration section. See
                  "What do I put into the fields?" for what to enter.
                </li>
                <li>
                  Copy the extension ID at the bottom of the S3
                  Configuration section. Open the AWS Extend Switch Roles
                  configuration page and paste the ID into the
                  <b>Extension API</b> field.
                </li>
                <li>
                  Copy the extension ID of AWS Extend Switch Roles and paste
                  into the <b>AESR extension ID</b> field. After this, click
                  <b>Save Profile</b>.
                </li>
                <li>
                  Click "Pull Config from S3" to download your switch role
                  config from the specified S3 bucket.
                </li>
                <li>
                  Click "Send to AESR" to send the configuration to AWS
                  Extend Switch Roles. This will overwrite your current
                  configuration in AESR.
                </li>
              </ol>
            </div>
          </details>
          <details>
            <summary>What do I put into the fields?</summary>
            <div class="details-content">
              <table>
                <caption>Overview of AWS Configuration Fields</caption>
                <thead>
                  <tr>
                    <th>Field</th>
                    <th>Description</th>
                    <th>Example</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>Profile Name</td>
                    <td>Name of the profile to be saved or loaded</td>
                    <td>AdminProfile</td>
                  </tr>
                  <tr>
                    <td>Access Key</td>
                    <td>Your AWS access key ID</td>
                    <td>AKIAIOSFODNN7EXAMPLE</td>
                  </tr>
                  <tr>
                    <td>Secret Key</td>
                    <td>Your AWS secret access key</td>
                    <td>wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </details>
        </div>
      </div>
    </div>
    <script src="options.js"></script>
  </body>
</html>
