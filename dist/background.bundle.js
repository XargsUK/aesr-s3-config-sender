chrome.runtime.onMessage.addListener(((e,c)=>{if("fetchS3FileContent"===e.action)return new Promise(((c,s)=>{AWS.config.update({accessKeyId:e.accessKeyId,secretAccessKey:e.secretAccessKey,region:e.region});const t=new AWS.S3,n={Bucket:e.bucket,Key:e.key};t.getObject(n,((e,t)=>{if(e)console.error("Failed to fetch S3 file content:",e),s({success:!1,error:e.message});else{const e=t.Body.toString("utf-8");console.log("Received S3 file content:",e),c({success:!0,content:e})}}))}))}));