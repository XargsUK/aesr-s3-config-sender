<!DOCTYPE html>
<html>
<head>
    <title>Test Options Page</title>
</head>
<body>
    <button id="openOptionsLink">Open Options</button>
    <script>
        // Simulate Chrome API
        window.chrome = {
            runtime: {
                openOptionsPage: (callback) => {
                    console.log('Chrome openOptionsPage called');
                    if (callback) callback();
                },
                lastError: null
            }
        };

        // Load our actual code
        const openOptionsLink = document.getElementById("openOptionsLink");
        console.log("openOptionsLink element:", openOptionsLink);

        if (openOptionsLink) {
            console.log('Setting up openOptionsLink click handler');
            openOptionsLink.addEventListener("click", async (e) => {
                e.preventDefault();
                console.log('Options link clicked');
                try {
                    console.log('Attempting to open options page');
                    await chrome.runtime.openOptionsPage();
                    console.log('Options page opened successfully');
                } catch (error) {
                    console.error('Error opening options page:', error);
                }
                return false;
            });
        }
    </script>
</body>
</html> 